<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Agenda</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            color-scheme: light;
            --bg: #f5f5f5;
            --text: #1f2937;
            --label: #374151;
            --surface: #ffffff;
            --border: #4db8b8;
            --border-hover: #3a9999;
            --accent: #4db8b8;
            --day-hover: #e0f5f5;
            --today-border: #2d7a7a;
            --selected-bg: #80d4d4;
            --selected-hover: #66c3c3;
            --selected-text: #ffffff;
            --other-month: #9ca3af;
            --shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        @media (prefers-color-scheme: dark) {
            :root {
                color-scheme: dark;
                --bg: #111827;
                --text: #f9fafb;
                --label: #e5e7eb;
                --surface: #1f2937;
                --border: #67d1d1;
                --border-hover: #8ce2e2;
                --accent: #8ce2e2;
                --day-hover: #2b3b4f;
                --today-border: #b2f0f0;
                --selected-bg: #0f766e;
                --selected-hover: #115e59;
                --selected-text: #f9fafb;
                --other-month: #6b7280;
                --shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            padding: 20px;
            background: var(--bg);
            color: var(--text);
        }

        .header {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px 50px;
            margin: 20px auto 20px auto;
            align-items: center;
            max-width: 591px;
        }

        .month-nav {
            display: flex;
            width: 100%;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .nav-label {
            font-size: 13px;
            color: var(--label);
            font-weight: 600;
            white-space: nowrap;
        }

        .nav-button {
            border: 2px solid var(--border);
            background: var(--surface);
            color: var(--text);
            border-radius: 6px;
            width: 36px;
            height: 36px;
            padding: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            line-height: 1;
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }

        .nav-button:hover {
            border-color: var(--border-hover);
            background: var(--day-hover);
        }

        .select-group {
            display: flex;
            align-items: center;
        }

        select {
            padding: 8px 12px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background: var(--surface);
            color: var(--text);
            font-size: 14px;
            cursor: pointer;
            outline: none;
        }

        select:hover {
            border-color: var(--border-hover);
        }

        .calendar {
            background: var(--surface);
            border-radius: 8px;
            margin: 0 auto;
            padding: 20px;
            box-shadow: var(--shadow);
            max-height: 500px;
            width: 100%;
            max-width: 551px;

        }

        .calendar-header {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .day-name {
            text-align: center;
            font-weight: 600;
            color: var(--accent);
            padding: 10px;
            font-size: 14px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .day-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 50%;
            font-size: 1.2rem;
            position: relative;
            transition: all 0.2s;
        }

        .day-cell:hover {
            background: var(--day-hover);
        }

        .day-cell.empty {
            cursor: default;
        }

        .day-cell.empty:hover {
            background: transparent;
        }

        .day-cell.today {
            border: 3px solid var(--today-border);
            font-weight: bold;
        }

        .day-cell.selected {
            background: var(--selected-bg);
            color: var(--selected-text);
            font-weight: 600;
        }

        .day-cell.selected:hover {
            background: var(--selected-hover);
        }

        .day-cell.other-month {
            color: var(--other-month);
        }

        @media (max-width: 550px) {
            body {
                padding: 14px;
            }

            .header {
                gap: 10px;
                max-width: 551px;
            }

            .select-group {
                flex: 0 1 auto;
            }

            .month-nav {
                row-gap: 6px;
            }

            .calendar {
                padding: 14px;
            }
        }

        @media (max-width: 470px) {
            body {
                padding: 10px;
            }

            .calendar {
                padding: 10px;
            }

            .calendar-header {
                gap: 4px;
                margin-bottom: 10px;
            }

            .calendar-grid {
                gap: 4px;
            }

            .day-name {
                padding: 6px 2px;
                font-size: 12px;
            }

            .day-cell {
                font-size: 1rem;
            }

            .nav-label {
                font-size: 12px;
            }
        }
    </style>
</head>

<body>

    <div class="header">
        <div class="select-group">
            <select id="monthSelect" aria-label="Mois"></select>
        </div>
        <div class="select-group">
            <select id="yearSelect" aria-label="Année"></select>
        </div>
        <div class="month-nav" aria-label="Navigation mensuelle">
            <span class="nav-label" id="prevMonthLabel">Mois précédent</span>
            <button class="nav-button" id="prevMonthBtn" type="button" aria-label="Mois précédent"
                title="Mois précédent">←</button>
            <button class="nav-button" id="nextMonthBtn" type="button" aria-label="Mois suivant"
                title="Mois suivant">→</button>
            <span class="nav-label" id="nextMonthLabel">Mois suivant</span>
        </div>
    </div>

    <div class="calendar">
        <div class="calendar-header">
            <div class="day-name">Lun</div>
            <div class="day-name">Mar</div>
            <div class="day-name">Mer</div>
            <div class="day-name">Jeu</div>
            <div class="day-name">Ven</div>
            <div class="day-name">Sam</div>
            <div class="day-name">Dim</div>
        </div>
        <div class="calendar-grid" id="calendarGrid"></div>
    </div>

    <script src="https://docs.getgrist.com/grist-plugin-api.js"></script>
    <script src="agenda.js"></script>
</body>

</html>